(function(){const e=document.documentElement,n=window.DEFAULT_THEME||"light",o=window.ALLOWED_THEMES||["dark","light"];function s(t){if(!o.includes(t))return;e.dataset.theme=t,e.classList.toggle("dark",t==="dark")}const i=new URLSearchParams(location.search),t=i.get("theme"),a=localStorage.getItem("theme"),r=t||a||n;s(r),t&&localStorage.setItem("theme",t),window.setTheme=function(e){s(e),localStorage.setItem("theme",e)},window.toggleTheme=function(){const t=e.dataset.theme||n;window.setTheme(t==="dark"?"light":"dark")},document.addEventListener("keydown",e=>{e.key==="t"&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&(e.preventDefault(),window.toggleTheme()),e.shiftKey&&e.key.toLowerCase()==="d"&&window.setTheme("dark"),e.shiftKey&&e.key.toLowerCase()==="l"&&window.setTheme("light")}),document.addEventListener("click",e=>{const t=e.target.closest("[data-theme]");if(!t)return;e.preventDefault();const n=t.getAttribute("data-theme");n&&window.setTheme(n)})})()